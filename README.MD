# ูุดุงูุฑ ุนููฺฉุฑุฏ ุฑุณุชูุฑุงู ูุง
## ูุนุฑู ูพุฑูฺู
<p align="justify">
ุงู ูพุฑูฺู ุจุง ูุฏู ุจูุจูุฏ ุนููฺฉุฑุฏ ุฑุณุชูุฑุงูโ ูุง ุจุฑ ุงุณุงุณ ฺฉุงููุชโ ูุง ฺฉุงุฑุจุฑุงู ฺฉู ุงุฒ ุขูโูุง ุณูุงุฑุด ุฏุงุดุชูโุงูุฏุ ุงูุฌุงู ุดุฏู ุงุณุช. ุชูุฑฺฉุฒ ุงุตู ูพุฑูฺูุ ูพุฏุง ฺฉุฑุฏู ุนูุงูู ูุคุซุฑ ุฏุฑ ฺฉุงูุด ุงูุชุงุฒ ูุง ู ููฺูู ูพุดโ ุจู ูุงูฺฏู ุงูุชุงุฒ ุขู ุฑุณุชูุฑุงู ุฏุฑ ููุชู ุขูุฏู ุงุณุช. ุงู ูพุฑูฺู ุฏุฑ ุฏู ูุฑุญูู ุงูุฌุงู ุดุฏู ฺฉู ูุฑ ูุฑุญูู ุดุงูู ุจุฎุดโ ูุง ูุฎุชูู ุงุณุช ฺฉู ุฏุฑ ุงุฏุงูู ุจูโ โุตูุฑุช ฺฉุงูู ุชูุถุญ ุฏุงุฏู ูโ ุดูุฏ.
</p>

## ูพุดโ ูุงุฒูุง
<p align="justify">
ุจุฑุง ุงุฌุฑุง ุงู ูพุฑูฺู ูุงุฒ ุจู ูุตุจ ูพฺฉุฌโ ูุง ุฒุฑ ุฏุงุฑุฏ ฺฉู ุฏุฑ ูุงู `requirements.txt` ูุฒ ุขูุฏู ุงุณุช:
</p>

```
fastapi
uvicorn
pandas
numpy
scikit-learn
xgboost
joblib
cudf
hazm
tabulate
gensim
matplotlib
```

<p align="justify">
ูุตุจ ุจุง ุฏุณุชูุฑ ุฒุฑ ุงูุฌุงู ูโ ุดูุฏ:
</p>

```bash
pip install -r requirements.txt
```

## ูุฑุงุญู ุงูุฌุงู ูพุฑูฺู

### 1. ุฎูุงูุฏู ุฏุงุฏูโูุง
<p align="justify">
ุฏุงุฏูโูุง ฺฉู ุจุฑ ุฑู ุขูโูุง ฺฉุงุฑ ุดุฏู ุงุณุช ุงุฒ ุณุงุช <a href="https://www.kaggle.com/datasets/moeinkpr/snappfood-comments">snappfood-comments</a> ฺฏุฑูุชู ุดุฏู ุงุณุช. ูุงุฒู ุจู ุฐฺฉุฑ ุงุณุช ฺฉู ุงู ุฏุชุงุณุช ุดุงูู ุฑุณุชูุฑุงูโูุงุ ฺฉุงููโูุงุ ุณููพุฑูุงุฑฺฉุชโ ูุง ู ููุงุฏโ ูุง ุงุณุช. ุฏุฑ ูพุฑูฺู ููุท ุฑุณุชูุฑุงูโ ูุง ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดุฏูโุงูุฏ ุฒุฑุง ธณ ุฏุฑุตุฏ ุงุฒ ฺฉู ุฏุชุงุณุช ุฑุง ฺฉุงููุชโ ูุง ูุฑุจูุท ุจู ุฑุณุชูุฑุงูโ ูุง ุชุดฺฉู ูโุฏููุฏ ู ุงุฒ ูุธุฑ ุญุฌู ุฏุงุฏู ุงุฑุฒุด ุชุญูู ุจุดุชุฑ ุฏุงุฑูุฏ.
</p>

### 2. ูพุดโูพุฑุฏุงุฒุด ุฏุงุฏูโูุง
<p align="justify">
ุฏุฑ ุฏุชุงุณุช ุงูููุ ุณุชููโ ูุง ูุฌูุฏ ุฏุงุดุชูุฏ ฺฉู ููุงุฏุฑ ุชฺฉุฑุงุฑ ุง ูุดุงุจู ุฏุงุดุชูุฏ. ุจุฑุง ฺฉุงูุด ุงุจุนุงุฏ ุฏุงุฏูุ ุชููุง ฺฉ ุงุฒ ุณุชููโ ูุง ุชฺฉุฑุงุฑ ุงูุชุฎุงุจ ุดุฏุ ูุงููุฏ [title, highlight] ุฏุฑ ูุงู `vendor.csv` ู [rating, rate] ุฏุฑ ูุงู `comments.csv`. ููฺูู ุณุชููโ ูุง ฺฉู ุงุฑุฒุด ุชุญูู ูุฏุงุดุชูุฏ (ูุซู [commentId, sender, customerId, feeling, status, replies]) ุญุฐู ุดุฏูุฏ.  
ุจูโ ููุธูุฑ ฺฉุงูุด ูุตุฑู ุญุงูุธูุ ุงุฒ ุชุงุจุน `auto_data_type` ุจุฑุง ุชุจุฏู ุฎูุฏฺฉุงุฑ ููุน ุฏุงุฏูโูุง ุจู ฺฉูโุญุฌูโ ุชุฑู ุญุงูุช ููฺฉู ุจุฏูู ุงุฒ ุฏุณุช ุฏุงุฏู ุงุทูุงุนุงุช ุงุณุชูุงุฏู ุดุฏ. ุฏุงุฏูโูุง ุชฺฉุฑุงุฑ ู ููุงุฏุฑ ุฎุงู ูุฒ ุจุฑุฑุณ ู ุญุฐู ุง ุฌุงฺฏุฒู ุดุฏูุฏ. ุจุฑุง ูุซุงูุ ุฏุฑ ุณุชูู ูุธุฑุงุช ูุฑุจูุท ุจู ูพฺฉ (deliveryComment) ุงฺฉุซุฑ ุฑฺฉูุฑุฏูุง ุฎุงู ุจูุฏูุฏุ ุจูุงุจุฑุงู ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุฎุทุงุ ุจุง ุฑุดุชูโ ุฎุงู ุฌุงฺฏุฒู ุดุฏูุฏ ู ุณูพุณ ุจุง ุณุชูู `commentText` ุงุฏุบุงู ุดุฏูุฏ.  
ุฏุฑ ุงุฏุงููุ ุชุงุฑุฎ ุงุฌุงุฏ ฺฉุงููุชโูุง ุจู ุณุงู ู ููุชู ุชูฺฉฺฉ ุดุฏ ุชุง ุชุญููโูุง ุฒูุงู ุณุงุฏูโุชุฑ ุงูุฌุงู ุดูุฏ. ููฺูู ุณุชูู `expeditionType` ุจุง ุฑูุด encoding ูุดุฑุฏู ุดุฏ. ูุชุฌูโ ุงู ูุฑุงูุฏ ฺฉุงูุด ุญุฏูุฏ ถน ุฏุฑุตุฏ ุญุฌู ุฏุงุฏูโูุง ุจูุฏ.
</p>

<P align="center">
  <img src="images/pre_processing.png" alt="image not found" width="45%" />
</P>

### 3. ูุงุฒ ุงูู (ุชุดุฎุต ุนูุงูู ุชุฃุซุฑฺฏุฐุงุฑ ุฏุฑ ฺฉุงูุด ุงูุชุงุฒ)

#### 3-1 ูพุฑุฏุงุฒุด ูุชู
<p align="justify">
ุงุจุชุฏุง ูุฌููุนูโุง ุงุฒ ฺฉููุงุช ุชููู (stopwords) ูุงุฑุณ ุฌูุนโุขูุฑ ู ุฏุฑ ูพุฑุฏุงุฒุด ูุธุฑุงุช ุงุณุชูุงุฏู ุดุฏ. ุณูพุณ ุจุง ุจูุฑูโฺฏุฑ ุงุฒ ฺฉุชุงุจุฎุงููโ hazm ุนููุงุช ูุฑูุงูโ ุณุงุฒุ ุญุฐู ุนูุงุฆู ุบุฑ ูุงุฑุณุ ุงุนุฏุงุฏ ู ูุงุตููโ ูุง ุงุถุงูุ ุชูฺฉูโุณุงุฒุ ุญุฐู ฺฉููุงุช ุชููู ู ุฑุดูโ ุงุจ ุงูุฌุงู ุดุฏ ุชุง ูุชูโ ูุง ุจุฑุง ุชุญูู ุขูุงุฏู ุดููุฏ.  
ุงุฒ ุขูุฌุง ฺฉู hazm ููุท ุฑู CPU ุงุฌุฑุง ูโุดูุฏุ ุฏุงุฏูโ ูุง ูุจู ุงุฒ ูพุฑุฏุงุฒุด ุงุฒ ูุงูุจ cudf ุจู pandas ุชุจุฏู ู ูพุณ ุงุฒ ุงุชูุงู ุจู cudf ุจุงุฒฺฏุฑุฏุงูุฏู ุดุฏูุฏ. ูพุณ ุงุฒ ุขูุ ูุฌููุนูโุง ุงุฒ ุฏุณุชูโูุง ูุนูุง ูุงููุฏ ฺฉูุชุ ููุชุ ุงุฑุณุงู ู ุจุณุชูโ ุจูุฏ ุชุนู ุดุฏ. ูุฏู Word2Vec ุจุฑุง ุงุฏฺฏุฑ ุจุฑุฏุงุฑูุง ูุนูุง ฺฉููุงุช ุขููุฒุด ุฏุฏ ู ุณูพุณ ุงูฺฏูุฑุชู KMeans ุจุฑุง ุฎูุดูโุจูุฏ ุจุฑ ุงุณุงุณ ุดุจุงูุช ูุนูุง ุงุณุชูุงุฏู ุดุฏ ุชุง ูุฑ ฺฉููู ุฏุฑ ูุฒุฏฺฉโ ุชุฑู ฺฏุฑูู ุฎูุฏ ูุฑุงุฑ ฺฏุฑุฏ.
</p>

#### 3-2 ุจุฑฺุณุจโฺฏุฐุงุฑ
<p align="justify">
ุฏุฑ ุงู ูุฑุญูู ูุฏูุ ุดูุงุณุง ุนูุงูู ูุคุซุฑ ุจุฑ ุฑุถุงุช ุง ูุงุฑุถุงุช ูุดุชุฑุงู ูุฑ ุฑุณุชูุฑุงู ุงุณุช. ุจุฑุง ุงู ููุธูุฑุ ุงุจุชุฏุง ูุธุฑุงุช ุจู ุฏู ุฏุณุชูโ ูุซุจุช ู ููู ุชูุณู ุดุฏูุฏุ ูุธุฑุงุช ุจุง ุงูุชุงุฒ ด ุง ุจุงูุงุชุฑ ูุซุจุช ู ุจูู ููู ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดุฏูุฏ(ุงู ุขุณุชุงูู ุฑุง ู ุชูุงู ุชุบุฑ ุฏุงุฏ). ุณูพุณ ุฏุงุฏูโูุง ุจุฑ ุงุณุงุณ ฺฉุฏ ูุฑ ุฑุณุชูุฑุงู ฺฏุฑููโุจูุฏ ุดุฏูุฏ ุชุง ุจุฑุง ูุฑ ุฑุณุชูุฑุงู ูุฏู ูุณุชูู ุณุงุฎุชู ุดูุฏ. ุชููุง ุฑุณุชูุฑุงูโูุง ุจุง ุจุด ุงุฒ ณฐ ูุธุฑ ูุงุฑุฏ ูุฏูโุณุงุฒ ุดุฏูุฏ ุชุง ุงุฒ ุจุฑูุฒ overfitting  ุฌููฺฏุฑ ุดูุฏ.  
ูุฏู XGBoostClassifier ุจุง ุงุณุชูุงุฏู ุงุฒ ูฺฺฏโูุง ูุงููุฏ ฺฉูุชุ ุงุฑุณุงูุ ููุชุ ุจุณุชูโุจูุฏุ ููุฏุงุฑ ู ุฎุทุง ุณูุงุฑุด ุขููุฒุด ุฏุงุฏู ุดุฏ ุชุง ุนูุงูู ฺฉูุฏ ูุคุซุฑ ุจุฑ ุงูุชุงุฒ ุดูุงุณุง ุดููุฏ. ุฏุฑ ููุงุช ุณู ุนุงูู ุงุตู ูุคุซุฑ ุจุฑุง ูุฑ ุฑุณุชูุฑุงู ุงุณุชุฎุฑุงุฌ ุดุฏ.
</p>

### 4. ูุงุฒ ุฏูู (ูพุดโุจู ุงูุชุงุฒ)

#### 4-1 ุณุงุฎุช ูฺฺฏโูุง
<p align="justify">
ุจุฑุง ูพุดโ ุจู ุฏููโ ุชุฑุ ูุชุบุฑ ูุง ูุงููุฏ `rate_lag1` ุชุง `rate_lag4` (ูุงูฺฏู ุงูุชุงุฒ ููุชูโูุง ูุจู)ุ `delta_rate` (ุชุบุฑ ุงูุชุงุฒ ููุชู ุฌุงุฑ ูุณุจุช ุจู ูุจู) ู `acceleration_rate` (ุณุฑุนุช ุชุบุฑ ุงูุชุงุฒูุง) ุณุงุฎุชู ุดุฏูุฏ. ููฺูู ูุงูฺฏู ูุชุญุฑฺฉ ุฏูุ ุณู ู ฺูุงุฑ ููุชู ุงุฎุฑ ูุญุงุณุจู ุดุฏ. ูุชุบุฑ ูุฏู (`y_next`) ูุฒ ูุงูฺฏู ุงูุชุงุฒ ููุชู ุขูุฏู ุงุณุช ฺฉู ูุฏู ุจุงุฏ ูพุดโ ุจู ฺฉูุฏ.
</p>

#### 4-2 ุขููุฒุด ูุฏู
<p align="justify">
ุฏุงุฏูโูุง ุจู pandas ุชุจุฏู ู ูฺฺฏโูุง ุบุฑุถุฑูุฑ (ูุซู ฺฉุฏ ุฑุณุชูุฑุงูุ ุณุงู ู ููุชู) ุญุฐู ุดุฏูุฏ. ุงุฒ ฺฉู ุฏุงุฏูโูุง ุจุฑุง ุขููุฒุด ุงุณุชูุงุฏู ุดุฏ ฺูู ูุงูุช ุฒูุงู ุฏุงุฏูโูุง ุงุฌุงุฒูโ ุชูุณู ุชุตุงุฏู ุฑุง ูู ุฏูุฏ. ุงู ฺฉุงุฑ ุจุงุนุซ ุดุฏ ูุฏู ุจุชูุงูุฏ ุงูฺฏููุง ูุงูุน ุชุบุฑุงุช ุฑุง ุจุงููุฒุฏ. ูุชุงุฌ ููุง ูุฏู ุฏุฑ ูุนุงุฑูุง MAE ู Rยฒ ูุดุงูโุฏููุฏูโ ุนููฺฉุฑุฏ ููุงุณุจ ูุฏู ุจูุฏูุฏ.
</p>

#### 4-3 ูพุดโ ุจู ุงูุชุงุฒ ููุชู ุขูุฏู
<p align="justify">
ุฏุงุฏูโูุง ุจู ุตูุฑุช ููุชฺฏ ุขูุงุฏู ู ุขุฎุฑู ุฑฺฉูุฑุฏ ูุฑ ุฑุณุชูุฑุงู ุงูุชุฎุงุจ ุดุฏ. ูุฏู ุจุง ุงุณุชูุงุฏู ุงุฒ ูฺฺฏโ ูุง ุณุงุฎุชูโุดุฏู ุงูุชุงุฒ ููุชูโ ุขูุฏู ุฑุง ูพุดโ ุจู ูโ ฺฉูุฏ. ุฏุฑ ููุงุช ุงุฎุชูุงู ุจู ุงูุชุงุฒ ูุนู ู ูพุดโ ุจูโ ุดุฏู (`expected_change`) ูุญุงุณุจู ู ุจุฑ ุงุณุงุณ ุขูุ ุฑุณุชูุฑุงูโูุง ุจุฑ ุญุณุจ ุงุญุชูุงู ุจูุจูุฏ ุง ุงูุช ุงูุชุงุฒ ูุฑุชุจ ุดุฏูุฏ.
</p>

## ๐ ุงุฑุฒุงุจ ูพุฑูฺู

### ูุชุงุฌ ูุงุฒ ุงูู
<p align="justify">
ูููุฏุงุฑ ุฒุฑ ูุดุงู ูโุฏูุฏ ฺฉุฏุงู ูฺฺฏโูุง ุจุดุชุฑู ฺฉูฺฉ ุฑุง ุจู ูุฏู ุจุฑุง ุงุฏฺฏุฑ ุงุฑุชุจุงุท ุจู ุงูุชุงุฒ ู ุนูุงูู ูุฎุชูู ฺฉุฑุฏูโุงูุฏ. ููุงูโุทูุฑ ฺฉู ูุดุฎุต ุงุณุชุ ูุงูฺฏูโ ูุง ููุชฺฏ ุจุดุชุฑู ุชุฃุซุฑ ุฑุง ุฏุงุดุชูโุงูุฏ.
</p>

![ููู_ุชุฑู_ูฺฺฏ](images/feature_importance_phase1.png)

<p align="justify">
ุงุฒ ุฌุฏูู ุฒุฑ ูโุชูุงู ูุดุงูุฏู ฺฉุฑุฏ ฺฉู ูุงูฺฏู ุฎุทุงูุง ุจุฑุง ฺฉู ุฑุณุชูุฑุงูโูุง ูุญุงุณุจู ุดุฏู ุงุณุช. ุจุฑุฎ ุฑุณุชูุฑุงูโูุง ููฺฉู ุงุณุช ุฎุทุง ุจุดุชุฑ ุฏุงุดุชู ุจุงุดูุฏ ุจู ุฏูู ฺฉู ุจูุฏู ุชุนุฏุงุฏ ฺฉุงููุชโ ูุงุดุงู. ุจุงุงูโ ุญุงู ุจุง ุงุนูุงู ูุญุฏูุฏุชโ ูุง ุชูุงุด ุดุฏ ุงู ุฎุทุง ุจู ุญุฏุงูู ุจุฑุณุฏ.
</p>

|   MAE   |   MSE   |  RMSE  |   Rยฒ   | Train Time (s) | Predict Time (s) |
|:-------:|:-------:|:------:|:------:|:---------------:|:----------------:|
| 1.4546  | 3.8147  | 1.9531 | 0.4629 |       1.85      |       0.02       |

![ูุชุฑฺฉ_ูุงุฒ1](images/chart_phase1.png)

### ูุชุงุฌ ูุงุฒ ุฏูู
<p align="justify">
ููุงูโ ุทูุฑ ฺฉู ุงุฒ ุฌุฏูู ุฒุฑ ูุดุฎุต ุงุณุชุ ูุฏู ุชูุงูุณุชู ุงุณุช ุจูโ ุฎูุจ ุงุฑุชุจุงุท ุจู ุนูุงูู ูุคุซุฑ ุฏุฑ ฺฉุงูุด ุงูุชุงุฒ ู ุฑุถุงุช ูุดุชุฑุงู ุฑุง ุดูุงุณุง ฺฉูุฏ.
</p>

| Accuracy | Precision | Recall | F1 | Train Time (s) | Predict Time (s) |
|:----------|:-----------:|:--------:|:----:|:----------------:|:------------------:|
| 0.8303 | 0.8323 | 0.9903 | 0.9007 | 0.7222 | 0.0123 |

## ุฏูู ูพุฑูฺู
<p align="justify">
ุจุฑุง ุฎุฑูุฌ โฺฏุฑูุชู ุงุฒ ูุฏู ู ุฐุฎุฑู โุณุงุฒ ุขูุ ุงุฒ ฺฉุชุงุจุฎุงูู joblib ุงุณุชูุงุฏู ุดุฏู ุชุง ูุฏู ุขููุฒุด โุฏุฏู ุจู โุตูุฑุช ูุงู ุฐุฎุฑู ู ุฏุฑ API ุจุงุฑฺฏุฐุงุฑ ุดูุฏ.  
ฺฉ ุณุฑูุณ FastAPI ุทุฑุงุญ ุดุฏู ุชุง ุฎุฑูุฌ โูุง ูุฏู ุงุฒ ุทุฑู ฺฉ endpoint ุฏุฑ ุฏุณุชุฑุณ ุจุงุดูุฏ. ุงู ุณุฑูุณ ุฑู ุณุงุช Render ุชูุณุนู ุฏุงุฏู ุดุฏู ู ุจุง ุงุฑุณุงู ุฏุฑุฎูุงุณุช (ุจุง ูพุงุฑุงูุชุฑ code) ูโ ุชูุงู ุงูุชุงุฒ ูพุดโ ุจู โุดุฏูโ ููุชู ุขูุฏู  ุขู ุฑุณุชูุฑุงู ุฑุง ุฏุฑุงูุช ฺฉุฑุฏ.  


ููฺูู ูุจโ ุณุงุช ุฏุงุดุจูุฑุฏ ุจุฑุง ููุงุด ุฑููุฏ ุงูุชุงุฒูุง ู ูพุดโ ุจูโ ูุง ุชูุณุนู ุฏุงุฏู ุดุฏู ฺฉู ุงุฒ ุทุฑู ุขุฏุฑุณ ุฒุฑ ุฏุฑ ุฏุณุชุฑุณ ุงุณุช:
</p>

ุขุฏุฑุณ ูุจโ ุณุงุช: [https://restaurant-advisor-dashboard.vercel.app](https://restaurant-advisor-dashboard.vercel.app)

<p align="center">
  <img src="images/demo1.png" alt="image not found" width="45%" />
  <img src="images/demo2.png" alt="image not found" width="45%" />
</p>

## ๐ ุณุงุฎุชุงุฑ ูพูุดูโูุง
```
restaurant-performance-advisor/
โ
โโโ api/
โโโ model.pkl 
โโโ predict.py 
โโโ weekly_data.csv 
โ
โโโ images/ 
    โโโ chart_phase1.png 
    โโโ demo1.png 
    โโโ demo2.png  
    โโโ feature_importance_phase1.png 
```